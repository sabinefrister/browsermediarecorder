(this.webpackJsonpbrowsermediarecorder=this.webpackJsonpbrowsermediarecorder||[]).push([[0],{51:function(e,t,a){},57:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),i=a.n(o),s=(a(51),a(7)),c=a(8),l=a(6),d=a(10),u=a(9),m=a(69),h=a(63),p=a(64),b=a(65),g=a(66),v=a(67),f=a(41),y=a(46),R=(a(57),a(22)),E=a.n(R),w=a(27),O=a(25),j=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).getMediaInput=r.getMediaInput.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"getMediaInput",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getDisplayMedia({audio:!0,video:!0});case 3:(t=e.sent).removeTrack(t.getVideoTracks()[0]),this.props.getStreamData(t,"audio"),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this.props.getStreamData("error"));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{size:"lg",onClick:this.getMediaInput},"Record Audio"))}}]),a}(r.Component),k=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).getMediaInput=r.getMediaInput.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"getMediaInput",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getDisplayMedia({audio:!0,video:!0});case 3:t=e.sent,this.props.getStreamData(t,"video"),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.props.getStreamData("error","video"));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{size:"lg",onClick:this.getMediaInput},"Record Video and Audio"))}}]),a}(r.Component),S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={duration:null,dateStart:null},r.refreshTimer=r.refreshTimer.bind(Object(l.a)(r)),r.displayDuration=r.displayDuration.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"displayDuration",value:function(e){var t=Math.floor(e/1e3),a=t%60,r=Math.floor(t/60)%60,n=Math.floor(t/60/60);return 1===a.toString().length&&(a="0".concat(a)),1===r.toString().length&&(r="0".concat(r)),1===n.toString().length&&(n="0".concat(n)),"".concat(n,":").concat(r,":").concat(a)}},{key:"refreshTimer",value:function(){var e=new Date-this.state.dateStart,t=this.displayDuration(e);this.setState({duration:t})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.timerStarted&&null===this.state.dateStart){var t=new Date;this.setState({dateStart:t}),this.timerID=setInterval((function(){return e.refreshTimer()}),500)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return n.a.createElement("div",{className:"timer"},n.a.createElement("div",null,this.state.duration?this.state.duration:"00:00:00"))}}]),a}(r.Component),N=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={timerStarted:!1,idRecordButton:"",enableRecordButton:!0,enableStopButton:!0},r.startRecording=r.startRecording.bind(Object(l.a)(r)),r.stopRecording=r.stopRecording.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.source=this.audioContext.createMediaStreamSource(this.props.stream),this.gainNode=this.audioContext.createGain(),this.initialVol=.75,this.gainNode.gain.value=this.initialVol,this.source.connect(this.gainNode);try{this.mediaRecorder=new MediaRecorder(this.props.stream)}catch(t){return void this.props.getErrorDueToMediaRecorder(t)}var e=[];this.mediaRecorder.onstop=function(t){var a=prompt("Please enter a name for your media clip.","Media 1");null===a&&(a="Media 1");var r=new Blob(e,{type:"video/mp4"});e=[];var n=URL.createObjectURL(r);this.props.getRecordedMediaURLAndFileName(n,"".concat(a,".mp4"))}.bind(this),this.mediaRecorder.ondataavailable=function(t){e.push(t.data)},this.mediaRecorder.onError=function(e){this.props.getErrorFromRecorder(e.error.name)},this.startRecording()}},{key:"componentWillUnmount",value:function(){this.source.disconnect()}},{key:"startRecording",value:function(){this.setState({timerStarted:!0,idRecordButton:"record",enableStopButton:!0,enableRecordButton:!1}),this.mediaRecorder.start()}},{key:"stopRecording",value:function(){this.state.timerStarted&&(this.mediaRecorder.stop(),this.setState({timerStarted:!1,idRecordButton:"",enableStopButton:!1,enableRecordButton:!0}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"recorder"},n.a.createElement(S,{timerStarted:this.state.timerStarted}),n.a.createElement(O.a,{size:"lg",className:"recordButton",id:this.state.idRecordButton,disabled:!this.state.enableRecordButton},"Record"),n.a.createElement(O.a,{size:"lg",className:"stopButton",id:"stop",onClick:this.stopRecording,disabled:!this.state.enableStopButton},"Stop"))}}]),a}(r.Component),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h3",null,this.props.fileName),n.a.createElement("audio",{controls:!0,src:this.props.mediaURL}))}}]),a}(r.Component),D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h3",null,this.props.fileName),n.a.createElement("video",{controls:!0,src:this.props.mediaURL}))}}]),a}(r.Component),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{size:"lg",href:this.props.mediaURL,download:this.props.fileName},"Download recorded file"))}}]),a}(r.Component),A=a(68),U=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={show:!1},r.onOK=r.onOK.bind(Object(l.a)(r)),r.handleClose=r.handleClose.bind(Object(l.a)(r)),r.handleShow=r.handleShow.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"onOK",value:function(){this.props.setNewRecording(),this.handleClose()}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{className:"new-recording",size:"lg",onClick:this.handleShow},"Start a new recording"),n.a.createElement(A.a,{className:"new-recording",show:this.state.show,onHide:this.handleClose,centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,null,"Start a new Recording")),n.a.createElement(A.a.Body,null,"Did you save your previous recording? If yes, press OK. If not, please cancel and save it, if you want to keep it."),n.a.createElement(A.a.Footer,null,n.a.createElement(O.a,{className:"modal-button-cancel",onClick:this.handleClose},"Cancel"),n.a.createElement(O.a,{className:"modal-button-ok",onClick:this.onOK},"OK"))))}}]),a}(r.Component),B=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={mediaURL:null,mediaType:"",streamAvailable:!1,fileName:null,showAlert:!1,alertMessage:"",stream:null},r.getStreamData=r.getStreamData.bind(Object(l.a)(r)),r.getRecordedMediaURLAndFileName=r.getRecordedMediaURLAndFileName.bind(Object(l.a)(r)),r.getErrorFromRecorder=r.getErrorFromRecorder.bind(Object(l.a)(r)),r.getErrorDueToMediaRecorder=r.getErrorDueToMediaRecorder.bind(Object(l.a)(r)),r.setNewRecording=r.setNewRecording.bind(Object(l.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Browser Media Recorder"}},{key:"getStreamData",value:function(e,t){if("error"===e){this.setState({showAlert:!0,alertMessage:"It wasn't possible to access your screen sharing. Please reload this page and start again."})}else this.setState({stream:e,streamAvailable:!0,mediaType:t})}},{key:"getRecordedMediaURLAndFileName",value:function(e,t){this.setState({mediaURL:e,fileName:t})}},{key:"getErrorFromRecorder",value:function(e){var t="It wasn't possible to start a recording. - ".concat(e);this.setState({showAlert:!0,alertMessage:t})}},{key:"getErrorDueToMediaRecorder",value:function(e){var t="The sound recorder is not supported by Safari and Internet Explorer. \n\t\tPlease use another Browser. - ".concat(e);this.setState({showAlert:!0,alertMessage:t,streamAvailable:!1})}},{key:"setNewRecording",value:function(){this.state.stream.getTracks().forEach((function(e){e.stop()})),this.setState({streamAvailable:null,mediaURL:null,fileName:null,stream:null})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{variant:"dark"},n.a.createElement(m.a.Brand,null,n.a.createElement(f.a,{icon:y.a,className:"d-inline-block align-top"})," ","Record your podcast or web seminar")),n.a.createElement(h.a,{variant:"danger",show:this.state.showAlert},this.state.alertMessage),n.a.createElement(p.a,{className:"main-container"},n.a.createElement("h1",null,"Record Audio and Video with Chrome"),n.a.createElement("p",null,"You can record anything you like inside a browser tab with this recorder, eg. a web seminar or a podcast. It only works with Chrome! After recording and naming your file, you can download it to your computer. The container of the file is mp4 with opus codex."),n.a.createElement(b.a,null,!this.state.streamAvailable&&n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,null,n.a.createElement(v.a,null,n.a.createElement("p",null,"Please select if you want to record 'audio' or 'video and audio'. "),n.a.createElement("p",null,"Then you will be asked to share your screen. You should choose Chrome Tab on the right side, decide which tab you want to record in and enable 'Share Audio' on the left bottom. After sharing your screen the record will start automatically. "),n.a.createElement("p",null,"If you are recording a video, you can enter full screen in the tab you are recording in. You should stay there while recording. Otherwise you can increase the video size by zooming inside the browser."))),n.a.createElement(g.a,null,n.a.createElement(v.a,{className:"mediaAccess"},n.a.createElement(j,{getStreamData:this.getStreamData}),n.a.createElement(k,{getStreamData:this.getStreamData})))),this.state.streamAvailable&&!this.state.fileName&&n.a.createElement(g.a,null,n.a.createElement(v.a,null,n.a.createElement(N,{stream:this.state.stream,getRecordedMediaURLAndFileName:this.getRecordedMediaURLAndFileName,getErrorFromRecorder:this.getErrorFromRecorder,getErrorDueToMediaRecorder:this.getErrorDueToMediaRecorder}))),this.state.mediaURL&&n.a.createElement(g.a,null,n.a.createElement(v.a,{className:"player"},n.a.createElement("div",{className:"Player"},"audio"===this.state.mediaType?n.a.createElement(M,{mediaURL:this.state.mediaURL,fileName:this.state.fileName}):n.a.createElement(D,{mediaURL:this.state.mediaURL,fileName:this.state.fileName}),n.a.createElement(C,{mediaURL:this.state.mediaURL,fileName:this.state.fileName}),n.a.createElement(U,{setNewRecording:this.setNewRecording})))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(60);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.a7bf2de9.chunk.js.map